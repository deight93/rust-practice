# 3장: 일반적인 프로그래밍 개념

이 장에서는 **모든 프로그래밍 언어에 공통적으로 등장하는 개념**들을 러스트에서 어떻게 사용하는지 설명합니다.
핵심 주제는 **변수와 가변성, 데이터 타입, 함수, 주석, 제어 흐름**입니다.

---

## 1. 변수와 가변성 (Variables and Mutability)

* 기본적으로 **변수는 불변(immutable)**
  → 선언 후 값 변경 불가
* `mut` 키워드 사용 시 **가변(mutable)** 가능
* 러스트는 **불변성을 기본값**으로 하여 코드의 안정성과 예측 가능성을 높임

```rust
let x = 5;
x = 6; // 에러 발생 (불변 변수는 수정 불가)

let mut y = 5;
y = 6; // 가능 (가변 변수)
```

* `const`: 항상 불변, 반드시 타입 명시 필요
* **섀도잉 (Shadowing)**: 같은 이름으로 새 변수를 선언해 기존 변수를 덮어씀

```rust
let x = 5;
let x = x + 1;  // 새 변수 x 생성
let x = x * 2;  // 다시 새로운 x
println!("x = {x}"); // 12
```

---

## 2. 데이터 타입 (Data Types)

러스트는 정적 타입 언어 → **컴파일 시점에 타입 결정**
타입 추론 가능하지만 명시적으로 지정할 수도 있음.

### 스칼라 타입 (Scalar Types)

* 정수형 (`i32`, `u32`, `i64`, …)
* 부동소수점 (`f32`, `f64`)
* 불리언 (`bool`)
* 문자 (`char`)

```rust
let a: i32 = 42;
let b: f64 = 3.14;
let c: bool = true;
let d: char = 'R';
```

### 복합 타입 (Compound Types)

* **튜플 (tuple)**: 다양한 타입을 묶음

```rust
let tup: (i32, f64, u8) = (500, 6.4, 1);
let (x, y, z) = tup; // 구조 분해 할당
```

* **배열 (array)**: 동일 타입, 고정 크기

```rust
let arr = [1, 2, 3, 4, 5];
let first = arr[0];
```

---

## 3. 함수 (Functions)

* 함수 정의는 `fn` 키워드 사용
* 매개변수에는 타입 명시 필수
* 반환값은 `-> 타입`으로 표시

```rust
fn main() {
    let result = add(5, 6);
    println!("result = {result}");
}

fn add(x: i32, y: i32) -> i32 {
    x + y  // 마지막 표현식은 세미콜론 없음
}
```

* **표현식(expression)** vs **문(statement)**

    * 문: 값을 반환하지 않음 (`let x = 5;`)
    * 표현식: 값을 반환 (`x + 1`)

---

## 4. 주석 (Comments)

* 러스트 주석은 `//` 사용
* 여러 줄은 줄마다 `//`
* 코드 뒤에도 가능

```rust
// 한 줄 주석
let x = 5; // 코드 뒤 주석
```

* 문서화 주석(`///`)은 14장에서 다룸

---

## 5. 제어 흐름 (Control Flow)

* **if 표현식**

```rust
let number = 3;
if number < 5 {
    println!("less than 5");
} else {
    println!("greater or equal to 5");
}
```

* **if는 표현식** → 값 반환 가능

```rust
let condition = true;
let number = if condition { 5 } else { 6 };
```

* **loop**

```rust
let mut counter = 0;
let result = loop {
    counter += 1;
    if counter == 10 {
        break counter * 2; // 값 반환
    }
};
```

* **while**

```rust
let mut number = 3;
while number != 0 {
    println!("{number}");
    number -= 1;
}
```

* **for**

```rust
let a = [10, 20, 30];
for element in a {
    println!("{element}");
}
```

---

## 6. 핵심 요약

* 러스트는 **불변성을 기본값**으로 사용 → 안정성과 동시성에 유리
* 타입 시스템이 강력하여 컴파일 시점에 많은 오류를 방지
* 함수와 제어 흐름은 다른 언어와 유사하지만, **표현식 중심** 설계가 특징
* 주석은 `//`, 문서화 주석은 `///`
